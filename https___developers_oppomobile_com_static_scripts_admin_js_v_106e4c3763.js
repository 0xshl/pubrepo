!function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n;return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){!function(root,factory){if('function'===typeof define&&define.amd)define([],factory);else if('object'===typeof exports)module.exports=factory();else root.Accordion=factory()}(this,function(){var Accordion=function(container,data,config,callbacks){this.$container=container instanceof $?container:$(container);this.data=[];if(data)this.data=$.extend(!0,this.data,data);this.config={multiple:!1,needReset:!0,style:'menu-item'};if(config)this.config=$.extend(!0,this.config,config);this.callbacks={};if(callbacks)this.callbacks=$.extend(!0,this.callbacks,callbacks);this.Init()};Accordion.prototype={Init:function(){var self=this;this.HTML='<div class="accordion-wrap"></div>';this.$el=$(this.HTML).appendTo(this.$container);this.activedObjs=[];this.itemsMapping={};this._createList(this.$el,this.data);$(window).scroll(function(e){if(self.config.needReset)self._setPosition($(this).scrollTop())}).resize(function(e){})},_createItem:function(container,data,parent,index,callback){var self=this,itemObj={};itemObj.$el=$('<li class="'+self.config.style+(data.class?' '+data.class:'')+'" '+(data.disabled?'disabled="disabled"':'')+' '+('hidden'===data.visible?"style=\"display:none;\"":"")+'><span jsdata="'+(data.jsdata||'')+'">'+(data.iconClass?'<i class="iconfont listIcon '+data.iconClass+'"></i>':' ')+data['txt']+'</span>'+(data.content?data.content:'')+'</li>').appendTo(container);itemObj.$el.bind('click',function(e){e.stopPropagation();if(self.config.multiple&&itemObj.children){$(this).toggleClass('expand active');return}if(itemObj.disabled)return!1;if(data.modal){if('function'==typeof self.callbacks.onModal)self.callbacks.onModal(data.modal)}else self._active(itemObj)});if(parent)itemObj.parent=parent;itemObj.open=data.open||!1;itemObj.disabled=data.disabled||!1;itemObj.level=this._getLevel(itemObj);itemObj.url=data['url']||'';itemObj.id=index;if(data['url'])this.itemsMapping[data['url']]=itemObj;if(data['children'])this._createList(itemObj.$el,data['children'],itemObj);else if(self.config.multiple)itemObj.$el.attr('min',1).addClass('min');if('function'===typeof callback)callback(itemObj)},_createList:function(container,data,parent){var listObj={};listObj.$el=$('<ul></ul>').appendTo(container);listObj.items=[];for(var i=0;i<data.length;i++)this._createItem(listObj.$el,data[i],parent,i,function(obj){listObj.items.push(obj)});if(parent)parent.children=listObj},_getLevel:function(obj){var level=0,GetLevel=function(obj){level++;if(obj.children)GetLevel(obj.children)};if(obj.parent)GetLevel(obj);return level},_caculateSubMenuMaxHeight:function(){},_setSubMenuMaxHeight:function(){},_setPosition:function(y){var self=this;if(y<100)y=0;this.$el.animate({marginTop:y},0,function(){if(y>0)self.$el.addClass('pop');else self.$el.removeClass('pop')})},_active:function(obj,noNeedActiveChildren){if(!obj)return;if(!this.config.multiple){if(this.activedObjs[obj.level]){this._deactive(this.activedObjs[obj.level]);if(0===obj.level)if(obj.id!==this.activedObjs[0].id)this.activedObjs[0].$el.removeClass('expand')}}else this.$el.find('.active[min=1]').removeClass('active');this.activedObjs[obj.level]=obj;obj.$el.addClass('active');if(this.config.multiple){if(obj.parent&&obj.level>0)obj.parent.$el.addClass('expand active')}else{if(0===obj.level)if(obj.$el.hasClass('active'))obj.$el.addClass('expand');else obj.$el.removeClass('expand');if(obj.children&&0===obj.level){if(noNeedActiveChildren)return!1;this._active(obj.children.items[0])}if(obj.parent&&obj.level>0)this._active((obj.parent.items||[])[0]||obj.parent,!0)}if('function'===typeof this.callbacks.onClick){if(noNeedActiveChildren)return!1;this.callbacks.onClick(!0,obj.url,obj.parent,this.config.contentEl,obj)}},_deactive:function(obj){obj.$el.removeClass('active')},ActiveByURL:function(url){var obj=this.itemsMapping[url]||null;if(obj)this._active(obj);else if('function'===typeof this.callbacks.onRedirect)this.callbacks.onRedirect(url,obj)},ActiveByIdx:function(idx){var i=0;for(var o in this.itemsMapping){if(i==idx)this._active(this.itemsMapping[o]);i++}}};return Accordion})},{}],2:[function(require,module,exports){var Accordion=require('../../../components/accordion/scripts/accordion');!function(root,factory){if('function'===typeof define&&define.amd)define([],factory);else if('object'===typeof exports)module.exports=factory();else root.Admin=factory()}(this,function(){var $mainEl=$('.main-content'),$mainWrapEl=$('.main-content-wrap'),hash=window.location.hash,originURL=defaultURL;if('/'==defaultURL){$('#signInModal').modal('show');return}if(hash)originURL=hash.split('#')[1].split('|')[0];function loadScriptQueue(script_list){var loaded=0,need=script_list.length;if(0==need)return;function startload(url){var js=document.createElement('script');js.src=url;js.onload=function(){document.head.removeChild(js);onload()};document.head.appendChild(js)}function onload(){if(++loaded<need)startload(script_list[loaded])}startload(script_list[0])}function execInlineCode(script){var type=script.type;if(!type||'text/javascript'==type.toLowerCase()){var sc=document.createElement('script');sc.innerHTML=script.innerHTML;document.head.appendChild(sc);setTimeout(function(){document.head.removeChild(sc)},1)}}var initial=!1,updateContent=function(url){if(url&&(url!=originURL||!initial))$.ajax({type:"GET",url:url,success:function(res){if(!$mainWrapEl[0])return;originURL=url;initial=!0;$('body').trigger('pageChange',originURL);$mainWrapEl[0].innerHTML=res;$mainWrapEl.css('opacity','0').animate({opacity:1},250);var script=$mainWrapEl.find('script'),depend=[];script.each(function(i,script){var src=script.getAttribute('src');if(src)depend.push(src);else execInlineCode(script)});loadScriptQueue(depend);window.location.hash=url}})},accordion=new Accordion($('.menu'),menuData,{needReset:!1,multiple:!0},{onClick:function(active,url,parent,configContentEl,obj){if(obj&&obj.open)window.open(url);else updateContent(url)},onRedirect:function(url,obj){if(obj&&obj.open)window.open(url);else updateContent(url)},onModal:function(id){$('form.validation').hide();$('#'+id).modal('toggle');$('.modal-body .alert-warning').hide();$('#'+id).find('.validation').show();$('#'+id).on('hidden.bs.modal',function(e){$('form.validation').show()})}});accordion.ActiveByURL(originURL);document.addEventListener('admin-redirect',function(){accordion.ActiveByURL(window.admin_url)},!1);var nav=$('.navbar-fixed-top'),bread=$('.breadcrumb'),topNotice=$('.top-notice'),mainContent=$('.main-content');$('.edit-profile').click(function(){accordion.ActiveByURL('/user/profile')});var $breadcrumb=$('.breadcrumb'),setPath=function(hash){for(var pathName='',i=0;i<menuData.length;i++)if(menuData[i]['children'])for(var j=0;j<menuData[i]['children'].length;j++)if(menuData[i]['children'][j]['url']==hash){pathName=menuData[i]['children'][j]['txt'];break}$breadcrumb.find('li.active a').text(pathName).attr({href:'#'+pathName})};$('body').bind('admin-redirect',function(){accordion.ActiveByURL(window.admin_url)});$('.nav-scroll').on('click','.to-top',function(){mainContent.scrollTop(0)});$(window).on('hashchange',function(){if(hash=window.location.hash){setPath(hash);accordion.ActiveByURL(hash.split('#')[1].split('|')[0])}}).on('resize',function(){mainContent.height($(window).height()-nav.outerHeight(!0)-Math.max(bread.outerHeight(!0),topNotice.outerHeight(!0))-2)}).on('load',function(){mainContent.height($(window).height()-nav.outerHeight(!0)-Math.max(bread.outerHeight(!0),topNotice.outerHeight(!0))-2)})})},{"../../../components/accordion/scripts/accordion":1}]},{},[2]);